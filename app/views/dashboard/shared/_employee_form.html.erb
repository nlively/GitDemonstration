<%= javascript_include_tag 'dashboard/employee_form' %>
<%
   form_action = (user.id.blank?) ? dashboard_employees_path(user) : dashboard_employee_path(user)
%>
<%= form_for user, :url => form_action do |f| %>

    <div class="form-field">
      <div class="label">
        <%= f.label :first_name %>
      </div>
      <div class="field">
        <%= f.text_field :first_name %>
      </div>
    </div>

    <div class="form-field">
      <div class="label">
        <%= f.label :middle_name %>
      </div>
      <div class="field">
        <%= f.text_field :middle_name %>
      </div>
    </div>

    <div class="form-field">
      <div class="label">
        <%= f.label :last_name %>
      </div>
      <div class="field">
        <%= f.text_field :last_name %>
      </div>
    </div>

    <div class="form-field">
      <div class="label">
        <%= f.label :profile_photo %>
      </div>
      <div class="field">

        <% unless user.profile_photo.blank? %>
            <%= image_tag user.profile_photo.url(:tiny) %>
        <% end %>

        <%= f.file_field :profile_photo %>
      </div>
    </div>

    <div class="form-field">
      <div class="label">
        <%= f.label :default_pay_rate %>
      </div>
      <div class="field">
        $ <%= f.text_field :default_pay_rate, :size=>5 %> USD
      </div>
    </div>

    <%=  render 'dashboard/shared/address_form' %>

    <div class="form-field">
      <div class="label">
        <%= f.label :phone, 'Phone Number' %>
      </div>
      <div class="field">
        <%= f.phone_field :phone %>
      </div>
    </div>

    <div class="form-field">
      <div class="label">
        <%= f.label :email %>
      </div>
      <div class="field">
        <%= f.text_field :email %>
      </div>
    </div>

    <% unless user.id.blank? %>
        <div class="form-field existing-password">
          <div class="label">
            <%= label_tag 'Password'  %>
          </div>
          <div class="field">
            <%= password_field_tag :fake_password, 'fakepassword', :size => 30, :disabled => true %>
            <a class="change-password" href="javascript:void(0);">change password</a>
          </div>
        </div>
    <% end %>

    <div class="set-password <%= user.id.blank? ? 'new-user' : 'existing-user' %>">
      <div class="form-field">
        <div class="label">
          <%= f.label :password %>
        </div>
        <div class="field">
          <%= f.password_field :password %>
        </div>
      </div>
      <div class="form-field">
        <div class="label">
          <%= f.label :password_confirmation %>
        </div>
        <div class="field">
          <%= f.password_field :password_confirmation %>
        </div>
      </div>
    </div>


    <%= f.submit "Save Changes" %>
<% end %>